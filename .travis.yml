notifications:
  email: false

language: go

go:
  - 1.8

sudo: false

dist: trusty

install:
  - go get golang.org/x/tools/cmd/cover
  - make mock-install
  - make mock

jobs:
  include:
    - stage: Lint
      script: make lint
    - stage: Test unit and integration
      script: make test-unit-coverage
    - stage: Test e2e
      script: travis_wait make test-e2e

cache:
  directories:
  - .ethereumtest
